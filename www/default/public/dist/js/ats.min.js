/*! ats 2015-02-18 */
var RB=angular.module("rb",["ngRoute","ngResource","ui.bootstrap","rbControllers","rbServices"]);angular.module("rbControllers",[]),RB.config(["$routeProvider",function(a){a.when("/dashboard",{templateUrl:"views/dashboard.html",controller:"DashboardCtrl",reloadOnSearch:!1}).when("/documents",{templateUrl:"views/document/document-list.html",controller:"DocumentListCtrl"}).when("/document/:documentId",{templateUrl:"views/document/document-detail.html",controller:"DocumentDetailCtrl",reloadOnSearch:!1}).when("/users",{templateUrl:"views/user/user-list.html",controller:"UserListCtrl",reloadOnSearch:!1}).when("/user/:userId",{templateUrl:"views/user/user-detail.html",controller:"UserDetailCtrl",reloadOnSearch:!1}).otherwise({redirectTo:"/dashboard"})}]),angular.module("rbControllers").controller("DashboardCtrl",["$scope","$log",function(a){a.title="Dashboard",a.activeMenu="dashboard"}]),angular.module("rbControllers").controller("DocumentListCtrl",["$scope","$http",function(a){a.title="Documents",a.activeMenu="documents"}]),angular.module("rbControllers").controller("DocumentDetailCtrl",["$scope","$routeParams",function(a){a.title="Document Details",a.activeMenu="documents"}]),angular.module("rbControllers").controller("UserListCtrl",["$rootScope","$scope","$location","$log","User",function(a,b,c,d,e){a.title="Users",a.activeMenu="users";var f={page:1,term:null},g=c.search();f.term=g.term||null,f.page=g.page||1,b.$watch("term",function(a){c.search("term",a)}),b.$watch("page",function(a){c.search("page",a)});var h=function(){d.log("Retrieving users..."),e.query(f,function(a){b.users=a.users,b.page=a._metadata.page,b.pageCount=a._metadata.pageCount,b.totalCount=a._metadata.totalCount,b.perPage=a._metadata.perPage,b.maxSize=5})};b.pageChanged=function(){f.page=b.page,f.term=b.term,h()},h()}]),angular.module("rbControllers").controller("UserDetailCtrl",["$rootScope","$scope","$log","$routeParams","User","$window",function(a,b,c,d,e,f){a.title="User Details",a.activeMenu="users",b.userId=d.userId,c.log("Retrieving user..."),b.user=e.get({id:b.userId},function(){}),b.goBack=function(){f.history.back()}}]);var rbServices=angular.module("rbServices",["ngResource"]);rbServices.factory("User",["$resource",function(a){return a("/api/users/:id",{id:"@id"},{query:{method:"GET",params:{},isArray:!1}})}]);